import"./svelte/svelte_internal_flags_async.js";import*as e from"./svelte/svelte_internal_client.js";import"./i18n-DMKL1Q3B.js";import{G as D}from"./utils.svelte-Ceck75cM.js";import"./svelte/svelte_internal_flags_legacy.js";import{createEventDispatcher as q}from"./svelte/svelte_svelte.js";import{B as z,b as A,L as E,E as F}from"./IconButtonWrapper-BWheMLkN.js";import{S as H}from"./StreamingBar-DrfQmzG9.js";import"./svelte/svelte_store.js";import"./index-BXZmp9-u.js";import"./svelte/svelte_animate.js";import"./svelte/svelte_attachments.js";import"./svelte/svelte_easing.js";import"./svelte/svelte_internal_flags_tracing.js";import"./svelte/svelte_internal_server.js";import"./svelte/svelte_legacy.js";import"./svelte/svelte_motion.js";import"./svelte/svelte_reactivity.js";import"./svelte/svelte_reactivity_window.js";import"./svelte/svelte_server.js";import"./svelte/svelte_transition.js";import"./svelte/svelte_events.js";import"./MarkdownCode-U4KoZ7qK.js";import"./prism-python-iiDAHIFD.js";var J=e.from_html('<h2 data-testid="label-output-value"> </h2>'),K=e.from_html('<button><div class="inner-wrap svelte-g2cwl3"><meter aria-valuemin="0" aria-valuemax="100" class="bar svelte-g2cwl3" min="0" max="1"></meter> <dl class="label svelte-g2cwl3"><dt class="text svelte-g2cwl3"> </dt> <div class="line svelte-g2cwl3"></div> <dd class="confidence svelte-g2cwl3"> </dd></dl></div></button>'),N=e.from_html('<div class="container svelte-g2cwl3"><!> <!></div>');function O(b,o){e.push(o,!1);let s=e.prop(o,"value",12);const t=q();let n=e.prop(o,"color",12,void 0),u=e.prop(o,"selectable",12,!1),c=e.prop(o,"show_heading",12,!0);function f(a){return a.replace(/\s/g,"-")}var m={get value(){return s()},set value(a){s(a),e.flush()},get color(){return n()},set color(a){n(a),e.flush()},get selectable(){return u()},set selectable(a){u(a),e.flush()},get show_heading(){return c()},set show_heading(a){c(a),e.flush()}};e.init();var p=N(),h=e.child(p);{var w=a=>{var l=J();let i,d;var r=e.child(l,!0);e.reset(l),e.template_effect(()=>{i=e.set_class(l,1,"output-class svelte-g2cwl3",null,i,{"no-confidence":!("confidences"in s())}),d=e.set_style(l,"",d,{"background-color":n()||"transparent"}),e.set_text(r,(e.deep_read_state(s()),e.untrack(()=>s().label)))}),e.append(a,l)};e.if(h,a=>{e.deep_read_state(c()),e.deep_read_state(s()),e.untrack(()=>c()||!s().confidences)&&a(w)})}var k=e.sibling(h,2);{var x=a=>{var l=e.comment(),i=e.first_child(l);e.each(i,1,()=>(e.deep_read_state(s()),e.untrack(()=>s().confidences)),e.index,(d,r,G)=>{var g=K();let $;var y=e.child(g),v=e.child(y),L=e.sibling(v,2),_=e.child(L),I=e.child(_,!0);e.reset(_);var B=e.sibling(_,4),M=e.child(B);e.reset(B),e.reset(L),e.reset(y),e.reset(g),e.template_effect((P,S,j,C)=>{$=e.set_class(g,1,"confidence-set group svelte-g2cwl3",null,$,{selectable:u()}),e.set_attribute(g,"data-testid",(e.get(r),e.untrack(()=>`${e.get(r).label}-confidence-set`))),e.set_attribute(v,"aria-labelledby",P),e.set_attribute(v,"aria-label",(e.get(r),e.untrack(()=>e.get(r).label))),e.set_attribute(v,"aria-valuenow",S),e.set_value(v,(e.get(r),e.untrack(()=>e.get(r).confidence))),e.set_style(v,`width: ${e.get(r),e.untrack(()=>e.get(r).confidence*100)??""}%; background: var(--stat-background-fill);
						`),e.set_attribute(_,"id",j),e.set_text(I,(e.get(r),e.untrack(()=>e.get(r).label))),e.set_text(M,`${C??""}%`)},[()=>(e.get(r),e.untrack(()=>f(`meter-text-${e.get(r).label}`))),()=>(e.get(r),e.untrack(()=>Math.round(e.get(r).confidence*100))),()=>(e.get(r),e.untrack(()=>f(`meter-text-${e.get(r).label}`))),()=>(e.get(r),e.untrack(()=>Math.round(e.get(r).confidence*100)))]),e.event("click",g,()=>{t("select",{index:G,value:e.get(r).label})}),e.append(d,g)}),e.append(a,l)};e.if(k,a=>{e.deep_read_state(s()),e.untrack(()=>typeof s()=="object"&&s().confidences)&&a(x)})}return e.reset(p),e.append(b,p),e.pop(m)}var Q=e.from_html("<!> <!> <!>",1);function he(b,o){e.push(o,!0);const s=e.rest_props(o,["$$slots","$$events","$$legacy"]),t=new D(s);let n=e.state(e.proxy(t.props.value)),u=e.derived(()=>t.props.value.label);e.user_effect(()=>{e.get(n)!=t.props.value&&(e.set(n,t.props.value,!0),t.dispatch("change"))}),z(b,{test_id:"label",get visible(){return t.shared.visible},get elem_id(){return t.shared.elem_id},get elem_classes(){return t.shared.elem_classes},get container(){return t.shared.container},get scale(){return t.shared.scale},get min_width(){return t.shared.min_width},padding:!1,children:(c,f)=>{var m=Q(),p=e.first_child(m);H(p,e.spread_props({get autoscroll(){return t.shared.autoscroll},get i18n(){return t.i18n}},()=>t.shared.loading_status,{on_clear_status:()=>t.dispatch("clear_status",t.shared.loading_status)}));var h=e.sibling(p,2);{var w=l=>{{let i=e.derived(()=>t.shared.label||t.i18n("label.label")),d=e.derived(()=>t.shared.container===!1),r=e.derived(()=>t.props.show_heading===!0);A(l,{get Icon(){return E},get label(){return e.get(i)},get disable(){return e.get(d)},get float(){return e.get(r)}})}};e.if(h,l=>{t.shared.show_label&&l(w)})}var k=e.sibling(h,2);{var x=l=>{O(l,{get selectable(){return t.props._selectable},get value(){return t.props.value},get color(){return t.props.color},get show_heading(){return t.props.show_heading},$$events:{select:({detail:i})=>t.dispatch("select",i)}})},a=l=>{F(l,{unpadded_box:!0,children:(i,d)=>{E(i)},$$slots:{default:!0}})};e.if(k,l=>{e.get(u)!==void 0&&e.get(u)!==null?l(x):l(a,!1)})}e.append(c,m)},$$slots:{default:!0}}),e.pop()}export{O as BaseLabel,he as default};
