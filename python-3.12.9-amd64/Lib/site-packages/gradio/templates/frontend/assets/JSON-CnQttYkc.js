import"./svelte/svelte_internal_flags_legacy.js";import"./svelte/svelte_internal_flags_async.js";import*as e from"./svelte/svelte_internal_client.js";import{createEventDispatcher as ie,onMount as oe,afterUpdate as _e,tick as de,onDestroy as ce}from"./svelte/svelte_svelte.js";import{E as pe,J as ue,c as fe,g as ve,h as he,I as me}from"./IconButtonWrapper-BWheMLkN.js";import"./i18n-DMKL1Q3B.js";var ge=e.from_html('<button class="toggle svelte-1olemhd"></button>'),be=e.from_html('<span class="key svelte-1olemhd"> </span><span class="punctuation colon svelte-1olemhd">:</span>',1),ye=e.from_html('<button class="preview svelte-1olemhd"> </button> <span> </span>',1),ke=e.from_html("<span> </span> <!>",1),xe=e.from_html('<span class="value string svelte-1olemhd"> </span>'),we=e.from_html('<span class="value number svelte-1olemhd"> </span>'),Ae=e.from_html('<span class="value bool svelte-1olemhd"> </span>'),Oe=e.from_html('<span class="value null svelte-1olemhd">null</span>'),Se=e.from_html("<span> </span>"),qe=e.from_html('<span class="punctuation svelte-1olemhd">,</span>'),je=e.from_html('<span class="punctuation svelte-1olemhd">,</span>'),Je=e.from_html('<div><!> <div class="line svelte-1olemhd"><span class="line-number svelte-1olemhd"></span> <span class="content svelte-1olemhd"><span> </span> <!></span></div></div>'),Ne=e.from_html('<div><div><span class="line-number svelte-1olemhd"></span> <span class="content svelte-1olemhd"><!> <!> <!> <!></span></div> <!></div>');function re(F,l){e.push(l,!1);const o=e.mutable_source();let r=e.prop(l,"value",12),u=e.prop(l,"depth",12,0),f=e.prop(l,"is_root",12,!1),k=e.prop(l,"is_last_item",12,!0),x=e.prop(l,"key",12,null),w=e.prop(l,"open",12,!1),S=e.prop(l,"theme_mode",12,"system"),m=e.prop(l,"show_indices",12,!1),g=e.prop(l,"interactive",12,!0);const G=ie();let N=e.mutable_source(),C=e.mutable_source([]);function E(t){return t!==null&&(typeof t=="object"||Array.isArray(t))}async function M(){e.set(o,!e.get(o)),await de(),G("toggle",{collapsed:e.get(o),depth:u()})}function H(t){return Array.isArray(t)?`Array(${t.length})`:typeof t=="object"&&t!==null?`Object(${Object.keys(t).length})`:String(t)}function U(){e.get(N).querySelectorAll(".line").forEach((s,i)=>{const _=s.querySelector(".line-number");_&&(_.setAttribute("data-pseudo-content",(i+1).toString()),_?.setAttribute("aria-roledescription",`Line number ${i+1}`),_?.setAttribute("title",`Line number ${i+1}`))})}oe(()=>{f()&&U()}),_e(()=>{f()&&U()}),e.legacy_pre_effect(()=>(e.deep_read_state(w()),e.deep_read_state(u())),()=>{e.set(o,w()?!1:u()>=3)}),e.legacy_pre_effect(()=>e.deep_read_state(r()),()=>{E(r())?e.set(C,Object.entries(r())):e.set(C,[])}),e.legacy_pre_effect(()=>(e.deep_read_state(f()),e.get(N)),()=>{f()&&e.get(N)&&U()}),e.legacy_pre_effect_reset();var Q={get value(){return r()},set value(t){r(t),e.flush()},get depth(){return u()},set depth(t){u(t),e.flush()},get is_root(){return f()},set is_root(t){f(t),e.flush()},get is_last_item(){return k()},set is_last_item(t){k(t),e.flush()},get key(){return x()},set key(t){x(t),e.flush()},get open(){return w()},set open(t){w(t),e.flush()},get theme_mode(){return S()},set theme_mode(t){S(t),e.flush()},get show_indices(){return m()},set show_indices(t){m(t),e.flush()},get interactive(){return g()},set interactive(t){g(t),e.flush()}};e.init();var a=Ne();let A;var O=e.child(a);let L;var I=e.sibling(e.child(O),2),V=e.child(I);{var R=t=>{var s=ge();e.template_effect(()=>{e.set_attribute(s,"data-pseudo-content",g()?e.get(o)?"▶":"▼":""),e.set_attribute(s,"aria-label",e.get(o)?"Expand":"Collapse"),s.disabled=!g()}),e.event("click",s,M),e.append(t,s)};e.if(V,t=>{e.deep_read_state(r()),e.untrack(()=>E(r()))&&t(R)})}var P=e.sibling(V,2);{var X=t=>{var s=be(),i=e.first_child(s),_=e.child(i);e.reset(i),e.next(),e.template_effect(()=>e.set_text(_,`"${x()??""}"`)),e.append(t,s)};e.if(P,t=>{x()!==null&&t(X)})}var Y=e.sibling(P,2);{var Z=t=>{var s=ke(),i=e.first_child(s);let _;var B=e.child(i,!0);e.reset(i);var v=e.sibling(i,2);{var d=c=>{var q=ye(),j=e.first_child(q),b=e.child(j,!0);e.reset(j);var n=e.sibling(j,2);let p;var W=e.child(n,!0);e.reset(n),e.template_effect((D,h,y)=>{e.set_text(b,D),p=e.set_class(n,1,"punctuation bracket svelte-1olemhd",null,p,h),e.set_text(W,y)},[()=>(e.deep_read_state(r()),e.untrack(()=>H(r()))),()=>({"square-bracket":Array.isArray(r())}),()=>(e.deep_read_state(r()),e.untrack(()=>Array.isArray(r())?"]":"}"))]),e.event("click",j,M),e.append(c,q)};e.if(v,c=>{e.get(o)&&c(d)})}e.template_effect((c,q)=>{_=e.set_class(i,1,"punctuation bracket svelte-1olemhd",null,_,c),e.set_text(B,q)},[()=>({"square-bracket":Array.isArray(r())}),()=>(e.deep_read_state(r()),e.untrack(()=>Array.isArray(r())?"[":"{"))]),e.append(t,s)},$=t=>{var s=e.comment(),i=e.first_child(s);{var _=v=>{var d=xe(),c=e.child(d);e.reset(d),e.template_effect(()=>e.set_text(c,`"${r()??""}"`)),e.append(v,d)},B=v=>{var d=e.comment(),c=e.first_child(d);{var q=b=>{var n=we(),p=e.child(n,!0);e.reset(n),e.template_effect(()=>e.set_text(p,r())),e.append(b,n)},j=b=>{var n=e.comment(),p=e.first_child(n);{var W=h=>{var y=Ae(),K=e.child(y,!0);e.reset(y),e.template_effect(z=>e.set_text(K,z),[()=>(e.deep_read_state(r()),e.untrack(()=>r().toString()))]),e.append(h,y)},D=h=>{var y=e.comment(),K=e.first_child(y);{var z=J=>{var T=Oe();e.append(J,T)},ee=J=>{var T=Se(),te=e.child(T,!0);e.reset(T),e.template_effect(()=>e.set_text(te,r())),e.append(J,T)};e.if(K,J=>{r()===null?J(z):J(ee,!1)},!0)}e.append(h,y)};e.if(p,h=>{typeof r()=="boolean"?h(W):h(D,!1)},!0)}e.append(b,n)};e.if(c,b=>{typeof r()=="number"?b(q):b(j,!1)},!0)}e.append(v,d)};e.if(i,v=>{typeof r()=="string"?v(_):v(B,!1)},!0)}e.append(t,s)};e.if(Y,t=>{e.deep_read_state(r()),e.untrack(()=>E(r()))?t(Z):t($,!1)})}var ae=e.sibling(Y,2);{var se=t=>{var s=qe();e.append(t,s)};e.if(ae,t=>{e.deep_read_state(k()),e.deep_read_state(r()),e.get(o),e.untrack(()=>!k()&&(!E(r())||e.get(o)))&&t(se)})}e.reset(I),e.reset(O);var le=e.sibling(O,2);{var ne=t=>{var s=Je();let i;var _=e.child(s);e.each(_,1,()=>e.get(C),e.index,(n,p,W)=>{var D=e.derived(()=>e.to_array(e.get(p),2));let h=()=>e.get(D)[0],y=()=>e.get(D)[1];var K=e.comment(),z=e.first_child(K);{let ee=e.derived_safe_equal(()=>u()+1),J=e.derived_safe_equal(()=>(e.get(C),e.untrack(()=>W===e.get(C).length-1))),T=e.derived_safe_equal(()=>(e.deep_read_state(r()),e.deep_read_state(m()),h(),e.untrack(()=>Array.isArray(r())&&!m()?null:h())));re(z,{get value(){return y()},get depth(){return e.get(ee)},get is_last_item(){return e.get(J)},get key(){return e.get(T)},get open(){return w()},get theme_mode(){return S()},get show_indices(){return m()},$$events:{toggle(te){e.bubble_event.call(this,l,te)}}})}e.append(n,K)});var B=e.sibling(_,2),v=e.sibling(e.child(B),2),d=e.child(v);let c;var q=e.child(d,!0);e.reset(d);var j=e.sibling(d,2);{var b=n=>{var p=je();e.append(n,p)};e.if(j,n=>{k()||n(b)})}e.reset(v),e.reset(B),e.reset(s),e.template_effect((n,p)=>{i=e.set_class(s,1,"children svelte-1olemhd",null,i,{hidden:e.get(o)}),c=e.set_class(d,1,"punctuation bracket svelte-1olemhd",null,c,n),e.set_text(q,p)},[()=>({"square-bracket":Array.isArray(r())}),()=>(e.deep_read_state(r()),e.untrack(()=>Array.isArray(r())?"]":"}"))]),e.append(t,s)};e.if(le,t=>{e.deep_read_state(r()),e.untrack(()=>E(r()))&&t(ne)})}return e.reset(a),e.bind_this(a,t=>e.set(N,t),()=>e.get(N)),e.template_effect(()=>{A=e.set_class(a,1,"json-node svelte-1olemhd",null,A,{root:f(),"dark-mode":S()==="dark"}),e.set_style(a,`--depth: ${u()??""};`),L=e.set_class(O,1,"line svelte-1olemhd",null,L,{collapsed:e.get(o)})}),e.event("toggle",a,function(t){e.bubble_event.call(this,l,t)}),e.append(F,a),e.pop(Q)}var Ce=e.from_html('<!> <div class="json-holder svelte-1lc38wd"><!></div>',1),Ee=e.from_html('<div class="empty-wrapper svelte-1lc38wd"><!></div>');function De(F,l){e.push(l,!1);const o=e.mutable_source();let r=e.prop(l,"value",28,()=>({})),u=e.prop(l,"open",12,!1),f=e.prop(l,"theme_mode",12,"system"),k=e.prop(l,"show_indices",12,!1),x=e.prop(l,"label_height",12),w=e.prop(l,"interactive",12,!0),S=e.prop(l,"show_copy_button",12,!0),m=e.mutable_source(!1),g;function G(){e.set(m,!0),g&&clearTimeout(g),g=setTimeout(()=>{e.set(m,!1)},1e3)}async function N(){"clipboard"in navigator&&(await navigator.clipboard.writeText(JSON.stringify(r(),null,2)),G())}function C(a){return a&&Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype&&JSON.stringify(a)===JSON.stringify({})}ce(()=>{g&&clearTimeout(g)}),e.legacy_pre_effect(()=>e.deep_read_state(x()),()=>{e.set(o,`calc(100% - ${x()}px)`)}),e.legacy_pre_effect_reset();var E={get value(){return r()},set value(a){r(a),e.flush()},get open(){return u()},set open(a){u(a),e.flush()},get theme_mode(){return f()},set theme_mode(a){f(a),e.flush()},get show_indices(){return k()},set show_indices(a){k(a),e.flush()},get label_height(){return x()},set label_height(a){x(a),e.flush()},get interactive(){return w()},set interactive(a){w(a),e.flush()},get show_copy_button(){return S()},set show_copy_button(a){S(a),e.flush()}};e.init();var M=e.comment(),H=e.first_child(M);{var U=a=>{var A=Ce(),O=e.first_child(A);{var L=P=>{fe(P,{children:(X,Y)=>{{let Z=e.derived_safe_equal(()=>e.get(m)?"Copied":"Copy"),$=e.derived_safe_equal(()=>e.get(m)?ve:he);me(X,{show_label:!1,get label(){return e.get(Z)},get Icon(){return e.get($)},$$events:{click:()=>N()}})}},$$slots:{default:!0}})};e.if(O,P=>{S()&&P(L)})}var I=e.sibling(O,2);let V;var R=e.child(I);re(R,{get value(){return r()},depth:0,is_root:!0,get open(){return u()},get theme_mode(){return f()},get show_indices(){return k()},get interactive(){return w()}}),e.reset(I),e.template_effect(()=>V=e.set_style(I,"",V,{"max-height":e.get(o)})),e.append(a,A)},Q=a=>{var A=Ee(),O=e.child(A);pe(O,{children:(L,I)=>{ue(L)},$$slots:{default:!0}}),e.reset(A),e.append(a,A)};e.if(H,a=>{e.deep_read_state(r()),e.untrack(()=>r()&&r()!=='""'&&!C(r()))?a(U):a(Q,!1)})}return e.append(F,M),e.pop(E)}export{De as J};
