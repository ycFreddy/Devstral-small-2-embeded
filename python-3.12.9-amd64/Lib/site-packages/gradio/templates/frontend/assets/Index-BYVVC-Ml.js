import"./svelte/svelte_internal_flags_async.js";import*as e from"./svelte/svelte_internal_client.js";import"./i18n-DMKL1Q3B.js";import{G as q}from"./utils.svelte-Ceck75cM.js";import{B as D,e as E}from"./IconButtonWrapper-BWheMLkN.js";import"./svelte/svelte_internal_flags_legacy.js";import"./svelte/svelte_svelte.js";import{S as I}from"./StreamingBar-DrfQmzG9.js";import{d as j}from"./index-tFQomdd2.js";import"./svelte/svelte_store.js";import"./index-BXZmp9-u.js";import"./svelte/svelte_animate.js";import"./svelte/svelte_attachments.js";import"./svelte/svelte_easing.js";import"./svelte/svelte_internal_flags_tracing.js";import"./svelte/svelte_internal_server.js";import"./svelte/svelte_legacy.js";import"./svelte/svelte_motion.js";import"./svelte/svelte_reactivity.js";import"./svelte/svelte_reactivity_window.js";import"./svelte/svelte_server.js";import"./svelte/svelte_transition.js";import"./svelte/svelte_events.js";import"./MarkdownCode-U4KoZ7qK.js";import"./prism-python-iiDAHIFD.js";var z=e.from_html('<div class="select-all-container svelte-yb2gcx"><label class="select-all-label svelte-yb2gcx"><input class="select-all-checkbox svelte-yb2gcx" type="checkbox" title="Select/Deselect All"/></label> <button type="button" class="label-text svelte-yb2gcx"> </button></div>'),C=e.from_html('<label><input type="checkbox" class="svelte-yb2gcx"/> <span class="ml-2 svelte-yb2gcx"> </span></label>'),F=e.from_html('<!> <!> <div class="wrap svelte-yb2gcx" data-testid="checkbox-group"></div>',1);function ce(G,f){e.push(f,!0);let P=e.rest_props(f,["$$slots","$$events","$$legacy"]),t=new q(P);function b(a){t.props.value.includes(a)?t.props.value=t.props.value.filter(c=>c!==a):t.props.value=[...t.props.value,a],t.dispatch("input")}function x(){const a=t.props.choices.map(([,c])=>c);t.props.value.length===a.length?t.props.value=[]:t.props.value=a.slice(),t.dispatch("input")}let y=e.derived(()=>{const a=t.props.choices.map(([,c])=>c);return t.props.value.length===0?"unchecked":t.props.value.length===a.length?"checked":"indeterminate"}),k=e.derived(()=>!t.shared.interactive),$=t.props.value;e.user_effect(()=>{t.props.value,!j($,t.props.value)&&($=t.props.value,t.dispatch("change",e.snapshot(t.props.value)))}),D(G,{get visible(){return t.shared.visible},get elem_id(){return t.shared.elem_id},get elem_classes(){return t.shared.elem_classes},type:"fieldset",get container(){return t.shared.container},get scale(){return t.shared.scale},get min_width(){return t.shared.min_width},children:(a,c)=>{var w=F(),S=e.first_child(w);I(S,e.spread_props({get autoscroll(){return t.shared.autoscroll},get i18n(){return t.i18n}},()=>t.shared.loading_status,{on_clear_status:()=>t.dispatch("clear_status",t.shared.loading_status)}));var B=e.sibling(S,2);{let v=e.derived(()=>t.shared.show_label||t.props.show_select_all&&t.shared.interactive);E(B,{get show_label(){return e.get(v)},get info(){return t.props.info},children:(h,_)=>{var u=e.comment(),m=e.first_child(u);{var s=i=>{var l=z(),o=e.child(l),p=e.child(o);e.remove_input_defaults(p),e.reset(o);var r=e.sibling(o,2),d=e.child(r,!0);e.reset(r),e.reset(l),e.template_effect(()=>{e.set_checked(p,e.get(y)==="checked"),p.indeterminate=e.get(y)==="indeterminate",e.set_text(d,t.shared.show_label?t.shared.label:"Select All")}),e.event("change",p,x),e.event("click",r,x),e.append(i,l)},n=i=>{var l=e.comment(),o=e.first_child(l);{var p=r=>{var d=e.text();e.template_effect(g=>e.set_text(d,g),[()=>t.shared.label||t.i18n("checkbox.checkbox_group")]),e.append(r,d)};e.if(o,r=>{t.shared.show_label&&r(p)},!0)}e.append(i,l)};e.if(m,i=>{t.props.show_select_all&&t.shared.interactive?i(s):i(n,!1)})}e.append(h,u)},$$slots:{default:!0}})}var A=e.sibling(B,2);e.each(A,21,()=>t.props.choices,e.index,(v,h,_)=>{var u=e.derived(()=>e.to_array(e.get(h),2));let m=()=>e.get(u)[0],s=()=>e.get(u)[1];var n=C();let i;var l=e.child(n);e.remove_input_defaults(l);var o=e.sibling(l,2),p=e.child(o,!0);e.reset(o),e.reset(n),e.template_effect((r,d,g,T)=>{i=e.set_class(n,1,"svelte-yb2gcx",null,i,r),l.disabled=e.get(k),e.set_checked(l,d),e.set_attribute(l,"name",g),e.set_attribute(l,"title",T),e.set_text(p,m())},[()=>({disabled:e.get(k),selected:t.props.value.includes(s())}),()=>t.props.value.includes(s()),()=>s()?.toString(),()=>s()?.toString()]),e.event("change",l,()=>b(s())),e.event("input",l,r=>t.dispatch("select",{index:_,value:s(),selected:r.currentTarget.checked})),e.event("keydown",l,r=>{r.key==="Enter"&&(b(s()),t.dispatch("select",{index:_,value:s(),selected:!t.props.value.includes(s())}))}),e.append(v,n)}),e.reset(A),e.append(a,w)},$$slots:{default:!0}}),e.pop()}export{ce as default};
