const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Canvas3D-DgQVhbN9.js","./index-BXZmp9-u.js","./index-D7cRHYCp.css"])))=>i.map(i=>d[i]);
import"./svelte/svelte_internal_flags_async.js";import*as e from"./svelte/svelte_internal_client.js";import{createEventDispatcher as Z,tick as W}from"./svelte/svelte_svelte.js";import"./i18n-DMKL1Q3B.js";import{G as ee}from"./utils.svelte-Ceck75cM.js";import te from"./Model3D-yOZKLa8D.js";import{_ as K}from"./index-BXZmp9-u.js";import"./svelte/svelte_internal_flags_legacy.js";import{U as re,M as ae}from"./ModifyUpload-CMHuWP2V.js";import{b as X,F as H,B as N,E as le,U as oe}from"./IconButtonWrapper-BWheMLkN.js";import{S as Q}from"./StreamingBar-DrfQmzG9.js";import{default as Fe}from"./Example-k72ew9Yb.js";import"./svelte/svelte_store.js";import"./index-tFQomdd2.js";import"./svelte/svelte_animate.js";import"./svelte/svelte_attachments.js";import"./svelte/svelte_easing.js";import"./svelte/svelte_internal_flags_tracing.js";import"./svelte/svelte_internal_server.js";import"./svelte/svelte_legacy.js";import"./svelte/svelte_motion.js";import"./svelte/svelte_reactivity.js";import"./svelte/svelte_reactivity_window.js";import"./svelte/svelte_server.js";import"./svelte/svelte_transition.js";import"./svelte/svelte_events.js";import"./MarkdownCode-U4KoZ7qK.js";import"./prism-python-iiDAHIFD.js";var se=e.from_html('<div class="input-model svelte-18wa0f8"><!> <!></div>'),ne=e.from_html("<!> <!>",1);function de(L,a){e.push(a,!1);let s=e.prop(a,"value",12),M=e.prop(a,"display_mode",12,"solid"),t=e.prop(a,"clear_color",28,()=>[0,0,0,0]),v=e.prop(a,"label",12,""),b=e.prop(a,"show_label",12),m=e.prop(a,"root",12),p=e.prop(a,"i18n",12),i=e.prop(a,"zoom_speed",12,1),y=e.prop(a,"pan_speed",12,1),E=e.prop(a,"max_file_size",12,null),w=e.prop(a,"uploading",12,!1),z=e.prop(a,"upload_promise",12,null),P=e.prop(a,"camera_position",28,()=>[null,null,null]),U=e.prop(a,"upload",12),x=e.prop(a,"stream_handler",12);async function T({detail:r}){s(r),await W(),d("change",s()),d("load",s())}async function j(){s(null),await W(),d("clear"),d("change")}let c=e.mutable_source(!1),o=e.mutable_source(),h=e.mutable_source();async function B(){return(await K(()=>import("./Canvas3D-DgQVhbN9.js"),__vite__mapDeps([0,1,2]),import.meta.url)).default}async function C(){return(await K(()=>import("./Canvas3DGS-BRjU3I6P.js"),[],import.meta.url)).default}let G=e.mutable_source();async function f(){e.get(G)?.reset_camera_position()}const d=Z();let _=e.mutable_source(!1);e.legacy_pre_effect(()=>(e.deep_read_state(s()),e.get(c)),()=>{s()&&(e.set(c,s().path.endsWith(".splat")||s().path.endsWith(".ply")),e.get(c)?C().then(r=>{e.set(o,r)}):B().then(r=>{e.set(h,r)}))}),e.legacy_pre_effect(()=>e.get(_),()=>{d("drag",e.get(_))}),e.legacy_pre_effect_reset();var l={get value(){return s()},set value(r){s(r),e.flush()},get display_mode(){return M()},set display_mode(r){M(r),e.flush()},get clear_color(){return t()},set clear_color(r){t(r),e.flush()},get label(){return v()},set label(r){v(r),e.flush()},get show_label(){return b()},set show_label(r){b(r),e.flush()},get root(){return m()},set root(r){m(r),e.flush()},get i18n(){return p()},set i18n(r){p(r),e.flush()},get zoom_speed(){return i()},set zoom_speed(r){i(r),e.flush()},get pan_speed(){return y()},set pan_speed(r){y(r),e.flush()},get max_file_size(){return E()},set max_file_size(r){E(r),e.flush()},get uploading(){return w()},set uploading(r){w(r),e.flush()},get upload_promise(){return z()},set upload_promise(r){z(r),e.flush()},get camera_position(){return P()},set camera_position(r){P(r),e.flush()},get upload(){return U()},set upload(r){U(r),e.flush()},get stream_handler(){return x()},set stream_handler(r){x(r),e.flush()}};e.init();var I=ne(),u=e.first_child(I);{let r=e.derived_safe_equal(()=>v()||"3D Model");X(u,{get show_label(){return b()},get Icon(){return H},get label(){return e.get(r)}})}var S=e.sibling(u,2);{var $=r=>{{let D=e.derived_safe_equal(()=>(e.deep_read_state(p()),e.untrack(()=>p()("model3d.drop_to_upload"))));re(r,{get upload(){return U()},get stream_handler(){return x()},get root(){return m()},get max_file_size(){return E()},filetype:[".stl",".obj",".gltf",".glb","model/obj",".splat",".ply"],get aria_label(){return e.get(D)},get upload_promise(){return z()},set upload_promise(n){z(n)},get dragging(){return e.get(_)},set dragging(n){e.set(_,n)},get uploading(){return w()},set uploading(n){w(n)},$$events:{load:T,error(n){e.bubble_event.call(this,a,n)}},children:(n,J)=>{var q=e.comment(),F=e.first_child(q);e.slot(F,a,"default",{},null),e.append(n,q)},$$slots:{default:!0},$$legacy:!0})}},A=r=>{var D=se(),n=e.child(D);{let g=e.derived_safe_equal(()=>!e.get(c));ae(n,{get undoable(){return e.get(g)},get i18n(){return p()},$$events:{clear:j,undo:f}})}var J=e.sibling(n,2);{var q=g=>{var k=e.comment(),O=e.first_child(k);e.component(O,()=>e.get(o),(R,V)=>{V(R,{get value(){return s()},get zoom_speed(){return i()},get pan_speed(){return y()}})}),e.append(g,k)},F=g=>{var k=e.comment(),O=e.first_child(k);e.component(O,()=>e.get(h),(R,V)=>{e.bind_this(V(R,{get value(){return s()},get display_mode(){return M()},get clear_color(){return t()},get camera_position(){return P()},get zoom_speed(){return i()},get pan_speed(){return y()},$$legacy:!0}),Y=>e.set(G,Y),()=>e.get(G))}),e.append(g,k)};e.if(J,g=>{e.get(c)?g(q):g(F,!1)})}e.reset(D),e.append(r,D)};e.if(S,r=>{s()==null?r($):r(A,!1)})}return e.append(L,I),e.pop(l)}var ie=e.from_html("<!> <!>",1),ue=e.from_html("<!> <!>",1),pe=e.from_html("<!> <!>",1);function Te(L,a){e.push(a,!0);class s extends ee{async get_data(){return e.get(i)&&(await e.get(i),await W()),await super.get_data()}}const M=e.rest_props(a,["$$slots","$$events","$$legacy"]),t=new s(M);let v=e.state(e.proxy(t.props.value)),b=e.state(!1),m=e.state(!1),p=e.state(!1),i=e.state(void 0);const y=typeof window<"u";e.user_effect(()=>{e.get(v)!==t.props.value&&(e.set(v,t.props.value,!0),t.dispatch("change"))});function E(o){t.props.value=o,t.dispatch("change",o),e.set(p,!0)}function w(o){e.set(m,o,!0)}function z(){t.props.value=null,t.dispatch("clear")}function P(o){t.props.value=o,t.dispatch("upload")}function U(o){t.shared.loading_status&&(t.shared.loading_status.status="error"),t.dispatch("error",o)}var x=e.comment(),T=e.first_child(x);{var j=o=>{{let h=e.derived(()=>t.props.value===null?"dashed":"solid"),B=e.derived(()=>e.get(m)?"focus":"base");N(o,{get visible(){return t.shared.visible},get variant(){return e.get(h)},get border_mode(){return e.get(B)},padding:!1,get elem_id(){return t.shared.elem_id},get elem_classes(){return t.shared.elem_classes},get container(){return t.shared.container},get scale(){return t.shared.scale},get min_width(){return t.shared.min_width},get height(){return t.props.height},children:(C,G)=>{var f=ue(),d=e.first_child(f);Q(d,e.spread_props({get autoscroll(){return t.shared.autoscroll},get i18n(){return t.i18n}},()=>t.shared.loading_status,{on_clear_status:()=>t.dispatch("clear_status",t.shared.loading_status)}));var _=e.sibling(d,2);{var l=u=>{te(u,{get value(){return t.props.value},get i18n(){return t.i18n},get display_mode(){return t.props.display_mode},get clear_color(){return t.props.clear_color},get label(){return t.shared.label},get show_label(){return t.shared.show_label},get camera_position(){return t.props.camera_position},get zoom_speed(){return t.props.zoom_speed},get has_change_history(){return e.get(p)}})},I=u=>{var S=ie(),$=e.first_child(S);{let r=e.derived(()=>t.shared.label||"3D Model");X($,{get show_label(){return t.shared.show_label},get Icon(){return H},get label(){return e.get(r)}})}var A=e.sibling($,2);le(A,{unpadded_box:!0,size:"large",children:(r,D)=>{H(r)},$$slots:{default:!0}}),e.append(u,S)};e.if(_,u=>{t.props.value&&y?u(l):u(I,!1)})}e.append(C,f)},$$slots:{default:!0}})}},c=o=>{{let h=e.derived(()=>t.props.value===null?"dashed":"solid"),B=e.derived(()=>e.get(m)?"focus":"base");N(o,{get visible(){return t.shared.visible},get variant(){return e.get(h)},get border_mode(){return e.get(B)},padding:!1,get elem_id(){return t.shared.elem_id},get elem_classes(){return t.shared.elem_classes},get container(){return t.shared.container},get scale(){return t.shared.scale},get min_width(){return t.shared.min_width},get height(){return t.props.height},children:(C,G)=>{var f=pe(),d=e.first_child(f);Q(d,e.spread_props({get autoscroll(){return t.shared.autoscroll},get i18n(){return t.i18n}},()=>t.shared.loading_status,{on_clear_status:()=>t.dispatch("clear_status",t.shared.loading_status)}));var _=e.sibling(d,2);de(_,{get label(){return t.shared.label},get show_label(){return t.shared.show_label},get root(){return t.shared.root},get display_mode(){return t.props.display_mode},get clear_color(){return t.props.clear_color},get value(){return t.props.value},get camera_position(){return t.props.camera_position},get zoom_speed(){return t.props.zoom_speed},get i18n(){return t.i18n},get max_file_size(){return t.shared.max_file_size},upload:(...l)=>t.shared.client.upload(...l),stream_handler:(...l)=>t.shared.client.stream(...l),get upload_promise(){return e.get(i)},set upload_promise(l){e.set(i,l,!0)},get uploading(){return e.get(b)},set uploading(l){e.set(b,l,!0)},$$events:{change:({detail:l})=>E(l),drag:({detail:l})=>w(l),clear:z,load:({detail:l})=>P(l),error:({detail:l})=>U(l)},children:(l,I)=>{oe(l,{get i18n(){return t.i18n},type:"file"})},$$slots:{default:!0}}),e.append(C,f)},$$slots:{default:!0}})}};e.if(T,o=>{t.shared.interactive?o(c,!1):o(j)})}e.append(L,x),e.pop()}export{Fe as BaseExample,te as BaseModel3D,de as BaseModel3DUpload,Te as default};
